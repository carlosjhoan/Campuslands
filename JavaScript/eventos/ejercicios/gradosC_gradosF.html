<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Converstir 째C y 째F</title>
    <style>
        body {
            height: 100vh;
            display: flex;
            align-items:first baseline;
            justify-content: center;
        }
        div {
            width: 40%;
            height: 250px;
            display: flex;
            flex-direction: column;
            justify-content:space-around;
            align-items: center;
            border-radius: 20px;
            box-shadow: 0 0 3px 3px rgb(197, 195, 195, 0.5);
        }
        fieldset {
            width: 30%;
            border-radius: 20px;
            border: 1px dotted;
        }

        input {
            height: 30px;
            width: 80%;
            border-radius: 20px;
            text-align: center;
            
        }
        /*input:active {
            background-color: white;
        }*/
        button {
            padding: 8px;
            border-radius: 20px;
            border: 1px white;
            background-color: rgb(242, 244, 244);
            box-shadow: 0 0 5px 5px white;
            cursor: pointer;
            transition: background-color 0.5s, box-shadow 0.5s;
        }

        button:hover {
            background-color: rgb(208, 211, 211);
            box-shadow: 0 0 5px 5px rgb(233, 231, 231);
            transition: background-color 0.5s, box-shadow 0.5s;
        }

    </style>
</head>
<body>
    <div>
        <fieldset>
            <legend>째C</legend>
            <input type="text" id = "g_C">
        </fieldset>
        <fieldset>
            <legend>째F</legend>
            <input type="text" id = "g_F">
        </fieldset>
        <fieldset>
            <button><legend>K</legend></button>
        </fieldset>
        <button id = "calculate">Calcular</button>
    </div>
    <script>
        let check_C = true;
        let check_F = true;
        let digit = "";
        const input_elements = document.getElementsByClassName("input");
        const C_input = document.getElementById("g_C");
        const F_input = document.getElementById("g_F");
        function calculate () {
            if (check_C == true) {
                document.getElementById("g_F").value = `${((Number(C_input.value)*9/5)+32).toFixed(2)}`;
                document.getElementById("g_F").style.backgroundColor = "#71ff74";
                document.getElementById("g_C").style.backgroundColor = "white";   
            } else if (check_F == true) {
                document.getElementById("g_C").value = `${((Number(F_input.value)-32)*(5/9)).toFixed(2)}`;
                document.getElementById("g_C").style.backgroundColor = "#71ff74";
                document.getElementById("g_F").style.backgroundColor = "white";   
            }
            
        }

        function click_input_C () {
            C_input.value = "";
            F_input.value = "";
            digit = "";
            check_C = true;
            check_F = false;
            document.querySelector("#g_C").style.backgroundColor = "#feff64";
            document.querySelector("#g_F").style.backgroundColor = "#9dd2fd";
        }
        function click_input_F () {
            F_input.value = "";
            C_input.value = "";
            digit = "";
            check_C = false;
            check_F = true;
            document.querySelector("#g_F").style.backgroundColor = "#feff64";
            document.querySelector("#g_C").style.backgroundColor = "#9dd2fd";
        }

        function press (event) {
            digit += event.key
            if (check_C == true) {
                document.getElementById("g_F").value = `${((Number(digit)*9/5)+32).toFixed(2)}`;
                document.getElementById("g_F").style.backgroundColor = "#71ff74";
                document.getElementById("g_C").style.backgroundColor = "white";   
            } else if (check_F == true) {
                document.getElementById("g_C").value = `${((Number(digit)-32)*(5/9)).toFixed(2)}`;
                document.getElementById("g_C").style.backgroundColor = "#71ff74";
                document.getElementById("g_F").style.backgroundColor = "white";   
            }
        }

        document.getElementById("calculate").addEventListener("click", calculate);
        C_input.addEventListener("click", click_input_C);
        F_input.addEventListener("click", click_input_F);

        //F_input.addEventListener("keypress", calculate);
        C_input.addEventListener("keypress", press);
        F_input.addEventListener("keypress", press);
        console.log(document.getElementsByTagName("input"));
    




    </script>
</body>
</html>